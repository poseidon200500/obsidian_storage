---
tags:
  - Программирование
  - ВебОсновы
  - Безопасность
  - Аутентификация
---
## Аутентификация и авторизация

### Cookies
Cookies — это небольшие фрагменты данных, которые веб-сервер отправляет браузеру, чтобы сохранить состояние между запросами. Они часто используются для хранения токенов аутентификации.

- **Установка в Go**:  
  ```go
  http.SetCookie(w, &http.Cookie{
    Name:     "token",
    Value:    "abc123",
    HttpOnly: true,
    Secure:   true,
    SameSite: http.SameSiteStrictMode,
  })
  ```
  В этом примере создаётся cookie с именем `token`, которое хранит значение `abc123`. Параметры `HttpOnly` и `Secure` обеспечивают дополнительную безопасность.

---

### JWT (JSON Web Tokens)
JWT — это компактный и самодостаточный способ передачи информации между сторонами в виде JSON-объекта. Он часто используется для аутентификации и авторизации.

- **Структура**: JWT состоит из трёх частей:
  - **Header**: содержит информацию о типе токена и алгоритме подписи.
  - **Payload**: содержит утверждения (claims), такие как идентификатор пользователя и срок действия токена.
  - **Signature**: создаётся путём подписи заголовка и полезной нагрузки с использованием секретного ключа.

- **Пример**:  
  ```
  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
  ```
  Этот токен можно использовать для аутентификации пользователя при каждом запросе.

---

### OAuth2
OAuth2 — это протокол авторизации, который позволяет сторонним приложениям получать ограниченный доступ к ресурсам пользователя без необходимости делиться его учетными данными.

- **Популярные потоки**:
  - **Authorization Code**: используется для веб-приложений, где пользователь перенаправляется на страницу авторизации, а затем возвращается с кодом, который можно обменять на токен доступа.
  - **Client Credentials**: используется для взаимодействия между сервисами, когда клиент (сервис) запрашивает токен доступа, используя свои собственные учетные данные.
  - **Implicit**: устаревший поток, который использовался для клиентских приложений, но не рекомендуется из-за проблем с безопасностью.

---

Эти механизмы аутентификации и авторизации помогают обеспечить безопасность веб-приложений, позволяя контролировать доступ к ресурсам и защищать данные пользователей.