---
tags:
  - Программирование
  - Основы_языка_Golang
---
# **Классы объектов в Go**

В Go все сущности имеют четкую классификацию с точки зрения языка. Вот как разделяются объекты по их природе и возможностям использования:

## **1. Объекты первого класса (First-class citizens)**
Сущности, которые можно:
- Присваивать переменным
- Передавать в функции как аргументы
- Возвращать из функций
- Хранить в структурах данных

### **Примеры:**
1. **Функции**
   ```go
   // Присваивание переменной
   add := func(a, b int) int { return a + b }
   
   // Передача как аргумента
   calculate(5, 3, add)
   ```

2. **Срезы/Мапы**
   ```go
   // Возврат из функции
   func getUsers() []string {
       return []string{"Alice", "Bob"}
   }
   ```

3. **Каналы**
   ```go
   // Хранение в структуре
   type Processor struct {
       input chan string
   }
   ```

## **2. Объекты второго класса**
Сущности, которые **не могут** быть полноценно использованы как значения:

1. **Имена типов**
   ```go
   type MyInt int
   // MyInt - это не значение, а мета-информация
   ```

2. **Пакеты**
   ```go
   import "fmt"
   // fmt - не может быть присвоен переменной
   ```

## **3. Особые категории**

### **3.1 Nil-способные объекты**
Типы, которые могут принимать значение `nil`:
- Указатели
- Срезы
- Мапы
- Каналы
- Интерфейсы
- Функции

```go
var f func() // nil
var m map[string]int // nil
```

### **3.2 Сравнимые объекты (Comparable)**
Типы, которые можно использовать в `==` и `!=`:
- Базовые типы (int, string и др.)
- Структуры (если все поля сравнимы)
- Указатели
- Интерфейсы

**Несравнимые:**
- Срезы
- Мапы
- Функции

### **3.3 Упорядочиваемые объекты (Ordered)**
Типы с естественным порядком (для сортировки):
```go
// int, float64, string и др.
sort.Ints([]int{3, 1, 2})
```

## **4. Таблица возможностей**

| Тип            | Присваиваемость | Передача в функции | Nil | Сравнение | Сортировка |
|----------------|-----------------|--------------------|-----|-----------|------------|
| int            | Да              | Да                 | Нет | Да        | Да         |
| string         | Да              | Да                 | Нет | Да        | Да         |
| struct         | Да              | Да                 | Нет | Зависит   | Нет        |
| slice          | Да              | Да                 | Да  | Нет       | Нет        |
| map            | Да              | Да                 | Да  | Нет       | Нет        |
| chan           | Да              | Да                 | Да  | Да        | Нет        |
| func           | Да              | Да                 | Да  | Нет       | Нет        |
| interface      | Да              | Да                 | Да  | Да        | Нет        |
| pointer        | Да              | Да                 | Да  | Да        | Нет        |

## **5. Практическое значение**
1. **Функции высшего порядка** возможны благодаря функциям 1-го класса:
   ```go
   func filter(numbers []int, predicate func(int) bool) []int {
       var result []int
       for _, n := range numbers {
           if predicate(n) {
               result = append(result, n)
           }
       }
       return result
   }
   ```

2. **Динамическое поведение** через интерфейсы:
   ```go
   var writer io.Writer // Может хранить любой объект с методом Write()
   writer = os.Stdout
   writer = new(bytes.Buffer)
   ```

3. **Ограничения дженериков** используют эти классы:
   ```go
   func Max[T comparable](a, b T) T {
       if a > b { // Ошибка: T не обязательно ordered
           return a
       }
       return b
   }
   ```

**Ключевой вывод:** В Go класс объекта определяет, какие операции с ним возможны, а не его "родительский класс" как в ООП.