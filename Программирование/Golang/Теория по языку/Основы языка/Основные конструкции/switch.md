---
tags:
  - Программирование
  - Теория_по_языку_Golang
  - Основы_языка_Golang
Связанные темы: []
---
# `switch` в Golang
## Теория
- Альтернатива цепочке `if-else`, часто используется для сравнения значений.

### **Особенности `switch` в Go**:

1. **Классический `switch`**  
 Сравнивает значение с вариантами в `case`:
```go
switch переменная {
   case значение1:
       // код
   case значение2:
       // код
   default:
       // код (аналог else)
}
	```
2. **`switch` без переменной**  
Работает как `if-else`:
```go
switch {
	case x > 0:
	    fmt.Println("x положительный")
	case x < 0:
	    fmt.Println("x отрицательный")
}
```
3. **Инициализация в `switch`**  
Можно объявить переменную перед сравнением:
```go
switch os := runtime.GOOS; os {
case "linux":
    fmt.Println("Это Linux")
}	
```
4. **Проваливание (`fallthrough`)**  
По умолчанию Go **не проваливается** в следующий `case` (в отличие от C/Java).  
Чтобы включить проваливание, используйте `fallthrough`:
```go
switch x {
case 1:
    fmt.Println("x == 1")
    fallthrough // выполнит следующий case!
case 2:
    fmt.Println("x == 1 или 2")
}
```
5. **Множественные значения в `case`**  
Можно перечислять несколько значений через запятую:
```go
switch x {
case 1, 2, 3:
    fmt.Println("x ∈ {1, 2, 3}")
}
```


## Частые ошибки

1. **Проваливание без `fallthrough`**  
    В Go `case` не проваливается по умолчанию, в отличие от C/Java.
    
2. **Использование `break`**  
    Ключевое слово `break` не требуется (но его можно использовать для выхода из цикла внутри `case`).
    
3. **Неправильный тип в `case`**  
    Значения в `case` должны быть того же типа, что и выражение в `switch`.