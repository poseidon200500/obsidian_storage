---
tags:
  - Программирование
Связанные темы:
  - "[[package_main]]"
---

# `Packages` в Golang

### **1.1. Основная концепция**

Пакет — это способ организации кода в Go. Каждый файл `.go` принадлежит одному пакету, указанному в первой строке:
```go
package main  // объявление пакета
```

### **1.2. Типы пакетов**

- **Исполняемые пакеты** (`package main`)  
    Содержат функцию `main()` — точку входа в программу.
```go
package main
    
func main() {
    println("Hello, World!")
}
```
    
- **Библиотеки (неисполняемые пакеты)**  
    Любое имя, кроме `main` (например, `package utils`). Не могут быть запущены напрямую.
    
### **1.3. Структура проекта**

```
myproject/
├── go.mod      // файл модуля
├── main.go     // package main
└── utils/
    └── math.go // package utils
```

# **2. Импорты (Imports)**

### **2.1. Базовый синтаксис**

```go
import (
    "fmt"       // стандартный пакет
    "math/rand" // подпакет

    "github.com/user/repo" // внешний пакет
)
```

### **2.2. Особенности импортов**

- **Группировка**: Импорты принято объединять в блоки.
- **Алиасы**: Можно задавать псевдонимы для конфликтующих имен.
```go
import (
    m "math"
    fmt "github.com/alternate/fmt"
)
```

### **2.3. Пустой импорт (`_`)**

Используется для подключения пакета **только ради side-эффектов** (например, вызова `init()` без прямого использования):
```go
import (
    _ "image/png" // регистрация формата в пакете image
)
```

**Зачем это нужно?**  
Некоторые пакеты регистрируют обработчики в фоне (драйверы БД, кодеки и т.д.).
```go
// файл: main.go
package main

import (
    _ "github.com/lib/pq" // регистрация драйвера PostgreSQL
    "database/sql"
)

func main() {
    db, _ := sql.Open("postgres", "...") // использует зарегистрированный драйвер
}
```

